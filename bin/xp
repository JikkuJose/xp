#!/usr/bin/env ruby

# $LOAD_PATH.unshift(File.expand_path("../../lib", "__FILE__"))

require 'nokogiri'

n = Nokogiri::HTML::parse STDIN.read

options = ARGV.select{ |o| o =~ /^\-/ }
query = ARGV - options

n.css(query.first).each do |element|
  if options.any?{|o| ["-t", "--text"].include?(o) }
    puts element.text
  else
    puts element
  end
end
